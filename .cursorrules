# Output Language
- You MUST ALWAYS respond in Japanese.
- Even if the context or code is in English, translate your explanation into Japanese.

# Commit Message Guidelines
- コミットメッセージは常に日本語で記述してください。
- 変更内容を具体的かつ詳細に記述してください。
- 箇条書き（- ）を使用して、複数の変更点を明確にリストアップしてください。

# Working Process / QA（実装指示を受けた場合の進め方）
- 作業は最初にタスクリストを作成し、上から順に実行してください。
- 分業できそうであればタスクを分岐し、サブエージェントを利用して並行実行してください。
- 作業は途中で止めず、指示された内容が完了するまで継続してください（完了条件が満たされるまで回し続ける）。
- 実装指示を受けた場合は、以下の順序で進めてください。
  1. 実装のためのドキュメントを更新する（仕様・テスト観点・期待結果を先に明確化）。
  2. 実装を更新する（リファクタリングや機能追加時は変数スコープに細心の注意を払う）。
  3. ビルド/バージョニングの確認を行う（Build / Versioning）。
  4. 単体テスト・E2Eテストを**必ずDockerコンテナ上で**実行する。
     - コマンド: `docker compose run --rm emr-test npm test`
     - ローカル環境での `npm test` は環境差異により動作しない可能性があるため避ける
  5. ブラウザコンソールエラー（JS ReferenceError等）の有無を確認できるようにする。
     - エージェント環境で実行できない場合でも、E2Eテストコードには `pageerror` の検知を含めるなど、ユーザー実行時に確実に不具合を検知できる仕組みを実装する
  6. 単体テスト・E2Eテストの結果をもとにドキュメントを更新する（結果・差分・注意点を反映）。

# Execution Environment Constraints
- エージェントの実行環境で `docker` や `npm` コマンドが使用できない場合、無理に実行を試みたり、失敗してから「環境制約により実行できませんでした」と言い訳することを禁止します。
- その場合は、テストコードの実装が完了したことのみを報告し、実際のテスト実行はユーザーが適切な環境（e2eコンテナ等）で行うものとして扱ってください。
